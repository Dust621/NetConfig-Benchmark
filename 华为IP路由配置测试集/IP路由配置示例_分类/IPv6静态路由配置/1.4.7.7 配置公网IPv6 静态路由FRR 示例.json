{
  "topology": "本网络由四台路由器设备构成的IPv6冗余路由架构：\n\n**设备构成：**\n- DeviceD：核心路由器，作为流量分发节点\n- DeviceA：主路径转发设备，位于Link A上\n- DeviceB：备份路径转发设备，位于Link B上  \n- DeviceC：目标网络设备，同时作为BFD会话终端\n\n**物理连接拓扑：**\n- DeviceD通过GE1/0/2接口连接DeviceA的GE1/0/2接口，形成2001:db8:1::/64网段（Link A主链路）\n- DeviceD通过GE1/0/1接口连接DeviceB的GE1/0/1接口，形成2001:db8:2::/64网段（Link B备份链路）\n- DeviceD通过GE1/0/3接口直连，分配2001:db8:5::/64网段用于管理\n- DeviceA通过GE2/0/3接口连接DeviceC的GE2/0/3接口，形成2001:db8:3::/64网段\n- DeviceB通过GE3/0/3接口连接DeviceC的GE3/0/3接口，形成2001:db8:4::/64网段\n- DeviceC作为终端设备，interface GE1/0/1配置2001:db8:6::/64网段\n\n**冗余机制配置：**\n- 在DeviceD和DeviceC之间建立BFD会话（会话标识aa/ab），通过2001:db8:1::和2001:db8:3::网段进行健康检测\n- DeviceD配置两条到达2001:db8:6::/64的IPv6静态路由：主路由通过Link A（preference 40）绑定BFD会话，备份路由通过Link B（默认优先级）\n- 当BFD检测到Link A故障时，流量自动切换至Link B进行转发，实现快速故障恢复",
  "requirement": "在DeviceD上配置下一跳分别为DeviceA和DeviceB的两条IPv6静态路由，使链路B为链路A的备份。当链路A出现故障时，流量可以快速切换到链路B上。",
  "steps": [
    "在DeviceD上配置下一跳分别为DeviceA和DeviceB的两条IPv6静态路由。",
    "在DeviceD上为链路A配置较高的Preference值，使系统优选链路A。",
    "在DeviceD上使能IPv6静态路由FRR功能，查看备份出接口和备份下一跳的信息。",
    "配置静态BFD for IPv6静态路由，以达到快速检测故障的目的。",
    "IPv6静态路由FRR去使能后，查看备份出接口和备份下一跳的信息。"
  ],
  "configs": {
    "DeviceD": "#\nsysname DeviceD\n#\nbfd\n#\ninterface GigabitEthernet1/0/1\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:2::1/64\n#\ninterface GigabitEthernet1/0/2\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:1::1/64\n#\ninterface GigabitEthernet1/0/3\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:5::1/64\n#\nbfd aa bind peer-ipv6 2001:db8:3::2 source-ipv6 2001:db8:1::\n discriminator local 1\n discriminator remote 2\n#\nipv6 route-static frr\nipv6 route-static 2001:db8:6:: 64 GigabitEthernet1/0/2 2001:db8:1::2 preference 40 track bfd-session aa\nipv6 route-static 2001:db8:6:: 64 GigabitEthernet1/0/1 2001:db8:2::\nipv6 route-static 2001:db8:3:: 64 GigabitEthernet1/0/2 2001:db8:1::\nipv6 route-static 2001:db8:4:: 64 GigabitEthernet1/0/1 2001:db8:2::\n#\nreturn",
    "DeviceA": "#\nsysname DeviceA\n#\ninterface GigabitEthernet1/0/2\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:1::2/64\n#\ninterface GigabitEthernet2/0/3\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:3::1/64\n#\nipv6 route-static 2001:db8:5:: 64 GigabitEthernet1/0/2 2001:db8:1::\nipv6 route-static 2001:db8:6:: 64 GigabitEthernet2/0/3 2001:db8:3::\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\ninterface GigabitEthernet1/0/1\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:2::2/64\n#\ninterface GigabitEthernet3/0/3\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:4::1/64\n#\nipv6 route-static 2001:db8:5:: 64 GigabitEthernet1/0/1 2001:db8:2::\nipv6 route-static 2001:db8:6:: 64 GigabitEthernet3/0/3 2001:db8:4::\n#\nreturn",
    "DeviceC": "#\nsysname DeviceC\n#\nbfd\n#\ninterface GigabitEthernet1/0/1\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:6::1/64\n#\ninterface GigabitEthernet2/0/3\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:3::2/64\n#\ninterface GigabitEthernet3/0/3\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:4::2/64\n#\nbfd ab bind peer-ipv6 2001:db8:1::1 source-ipv6 2001:db8:3::\n discriminator local 2\n discriminator remote 1\n#\nipv6 route-static 2001:db8:5:: 64 GigabitEthernet2/0/3 2001:db8:3::\nipv6 route-static 2001:db8:5:: 64 GigabitEthernet3/0/3 2001:db8:4::\nipv6 route-static 2001:db8:1:: 64 GigabitEthernet2/0/3 2001:db8:3::\nipv6 route-static 2001:db8:2:: 64 GigabitEthernet3/0/3 2001:db8:4::\n#\nreturn"
  },
  "related_images": [
    "图1-35 配置公网IPv6 静态路由FRR 组网图.png"
  ]
}