{
  "topology": "基于网络拓扑图和配置文件分析，完善后的网络拓扑描述如下：\n\n本网络采用OSPF三区域架构，包含Area0（骨干区域）、Area1（Stub区域）和Area2（普通区域）。\n\n**设备角色与连接：**\n- DeviceA和DeviceB作为ABR（区域边界路由器），同时连接Area0和各自管理的区域\n- DeviceA通过interface1（192.168.0.1/24）连接Area0，通过interface2（192.168.1.1/24）连接Area1\n- DeviceB通过interface1（192.168.0.2/24）连接Area0，通过interface2（192.168.2.1/24）连接Area2\n- DeviceC和DeviceE位于Area1内部，通过172.16.1.0/24网段互连\n- DeviceD和DeviceF位于Area2内部，通过172.17.1.0/24网段互连\n\n**区域配置特性：**\n- Area0作为骨干区域，承载ABR间的互连（192.168.0.0/24网段）\n- Area1配置为Stub区域，DeviceA配置为no-summary，完全阻止Type-5外部LSA和Type-3汇总LSA进入，仅允许缺省路由\n- Area2为普通区域，可接收所有类型LSA\n- DeviceD作为ASBR，引入静态路由10.0.0.0/8到OSPF域，产生Type-5外部LSA\n\n**IP地址分配：**\n- Area0互连：192.168.0.0/24（DeviceA .1，DeviceB .2）\n- Area1接入：192.168.1.0/24（DeviceA .1，DeviceC .2）\n- Area1内部：172.16.1.0/24（DeviceC .1，DeviceE .2）\n- Area2接入：192.168.2.0/24（DeviceB .1，DeviceD .2）\n- Area2内部：172.17.1.0/24（DeviceD .1，DeviceF .2）\n\n此配置实现了Area1的LSA数量控制，减少了路由表规模，同时通过缺省路由保证了全网可达性。",
  "requirement": "将Area1配置为Stub区域，减少通告到此区域内的LSA数量，但不影响路由的可达性。",
  "steps": [
    "在各路由器上配置OSPF基本功能，实现互连。",
    "在DeviceD上配置静态路由，并在OSPF中引入。",
    "配置Area1为Stub区域（需要在Area1内所有的路由器上配置`stub`命令），在DeviceC上查看OSPF路由信息。",
    "在DeviceA上配置禁止向Stub区域通告Type3 LSA，在DeviceC上查看OSPF路由信息。"
  ],
  "configs": {
    "DeviceA": "#\nsysname DeviceA\n#\nrouter id 1.1.1.1\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 192.168.0.1 255.255.255.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 192.168.1.1 255.255.255.0\n#\nospf 1\n area 0.0.0.0\n  network 192.168.0.0 0.0.0.255\n area 0.0.0.1\n  network 192.168.1.0 0.0.0.255\n  stub no-summary\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\nrouter id 2.2.2.2\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 192.168.0.2 255.255.255.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 192.168.2.1 255.255.255.0\n#\nospf 1\n area 0.0.0.0\n  network 192.168.0.0 0.0.0.255\n area 0.0.0.2\n  network 192.168.2.0 0.0.0.255\n#\nreturn",
    "DeviceC": "#\nsysname DeviceC\n#\nrouter id 3.3.3.3\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 192.168.1.2 255.255.255.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 172.16.1.1 255.255.255.0\n#\nospf 1\n area 0.0.0.1\n  network 192.168.1.0 0.0.0.255\n  network 172.16.1.0 0.0.0.255\n  stub\n#\nreturn",
    "DeviceD": "#\nsysname DeviceD\n#\nrouter id 4.4.4.4\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 192.168.2.2 255.255.255.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 172.17.1.1 255.255.255.0\n#\nospf 1\n import-route static type\n area 0.0.0.2\n  network 192.168.2.0 0.0.0.255\n  network 172.17.1.0 0.0.0.255\n#\nip route-static 10.0.0.0 255.0.0.0 NULL\n#\nreturn",
    "DeviceE": "#\nsysname DeviceE\n#\nrouter id 5.5.5.5\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 172.16.1.2 255.255.255.0\n#\nospf 1\n area 0.0.0.1\n  network 172.16.1.0 0.0.0.255\n  stub\n#\nreturn",
    "DeviceF": "#\nsysname DeviceF\n#\nrouter id 6.6.6.6\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 172.17.1.2 255.255.255.0\n#\nospf 1\n area 0.0.0.2\n  network 172.17.1.0 0.0.0.255\n#\nreturn"
  },
  "related_images": [
    "图1-44配置OSPFStub区域组网图.png"
  ]
}