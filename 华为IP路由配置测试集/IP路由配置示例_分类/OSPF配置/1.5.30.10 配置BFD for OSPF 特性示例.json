{
  "topology": "基于网络拓扑图和配置文件分析，完善的网络拓扑描述如下：\n\n**网络拓扑结构：**\n- 三台路由器设备：DeviceA（Router ID: 1.1.1.1）、DeviceB（Router ID: 2.2.2.2）、DeviceC（Router ID: 3.3.3.3）\n- 拓扑形态：三角形冗余结构，DeviceA和DeviceB之间存在直连主链路和经由DeviceC的备份路径\n\n**设备连接关系：**\n- DeviceA ↔ DeviceC：通过1.1.1.0/24网段连接，DeviceA接口地址1.1.1.1，DeviceC接口地址1.1.1.2\n- DeviceC ↔ DeviceB：通过2.2.2.0/24网段连接，DeviceC接口地址2.2.2.1，DeviceB接口地址2.2.2.2\n- DeviceA ↔ DeviceB：通过3.3.3.0/24网段直连，DeviceA接口地址3.3.3.1，DeviceB接口地址3.3.3.2（主链路）\n- DeviceB外联：通过172.16.1.0/24网段连接外部网络，接口地址172.16.1.1\n\n**协议配置：**\n- 所有设备运行OSPF协议，均位于Area 0.0.0.0\n- BFD配置：DeviceA和DeviceB在3.3.3.0/24链路上启用BFD，检测间隔500ms，检测倍数为4，实现毫秒级故障检测\n- 路径优选：正常情况下流量走DeviceA → DeviceB直连主链路，故障时自动切换至DeviceA → DeviceC → DeviceB备份路径",
  "requirement": "通过配置 BFD for OSPF 特性，可以快速检测链路的状态，故障检测时间可以达到毫秒级，从而提高链路状态变化时 OSPF 的收敛速度。正常情况下，业务流量在主链路上传送。当主链路故障时，用户希望能够快速感知，及时将业务流量切换到备份链路上。",
  "steps": [
    "在各路由器上配置 OSPF 基本功能，实现互连。",
    "使能全局 BFD 特性。",
    "在 DeviceA 和 DeviceB 上使能 OSPF BFD 检测机制。"
  ],
  "configs": {
    "DeviceA": "#\nsysname DeviceA\n#\nrouter id 1.1.1.1\n#\nbfd\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 1.1.1.1 255.255.255.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 3.3.3.1 255.255.255.0\n ospf bfd enable\n ospf bfd min-tx-interval 500 min-rx-interval 500 detect-multiplier 4\n#\nospf 1 bfd all-interfaces enable\n area 0.0.0.0\n  network 3.3.3.0 0.0.0.255\n  network 1.1.1.0 0.0.0.255\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\nrouter id 2.2.2.2\n#\nbfd\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 2.2.2.2 255.255.255.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 3.3.3.2 255.255.255.0\n ospf bfd enable\n ospf bfd min-tx-interval 500 min-rx-interval 500 detect-multiplier 4\n#\ninterface GigabitEthernet3/0/0\n undo shutdown\n ip address 172.16.1.1 255.255.255.0\n#\nospf 1 bfd all-interfaces enable\n area 0.0.0.0\n  network 3.3.3.0 0.0.0.255\n  network 2.2.2.0 0.0.0.255\n  network 172.16.1.0 0.0.0.255\n#\nreturn",
    "DeviceC": "#\nsysname DeviceC\n#\nrouter id 3.3.3.3\n#\nbfd\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 1.1.1.2 255.255.255.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 2.2.2.1 255.255.255.0\n ospf bfd enable\n#\nospf 1 bfd all-interfaces enable\n area 0.0.0.0\n  network 1.1.1.0 0.0.0.255\n  network 2.2.2.0 0.0.0.255\n#\nreturn"
  },
  "related_images": [
    "图1-51 配置BFD for OSPF 特性组网图.png"
  ]
}