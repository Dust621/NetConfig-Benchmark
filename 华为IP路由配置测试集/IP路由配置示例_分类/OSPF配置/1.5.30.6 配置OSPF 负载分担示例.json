{
  "topology": "本网络拓扑由5台路由器设备组成，采用OSPF协议实现全网互连，所有设备均属于OSPF区域0（Area 0）。\n\n**物理拓扑结构：**\n- DeviceA作为核心节点，通过三个GigabitEthernet接口分别连接DeviceB、DeviceC和DeviceD\n- DeviceE作为汇聚节点，同时连接DeviceB、DeviceC和DeviceD，形成三角形冗余结构\n- 整体拓扑呈现星型-三角混合结构，DeviceA为星型中心，DeviceE与其他三台设备形成三角形\n\n**网络分段和IP地址分配：**\n- DeviceA-DeviceB链路：10.1.1.0/24网段（DeviceA: 10.1.1.1，DeviceB: 10.1.1.2）\n- DeviceA-DeviceC链路：10.1.2.0/24网段（DeviceA: 10.1.2.1，DeviceC: 10.1.2.2）\n- DeviceA-DeviceD链路：10.1.3.0/24网段（DeviceA: 10.1.3.1，DeviceD: 10.1.3.2）\n- DeviceB-DeviceE链路：192.168.0.0/24网段（DeviceB: 192.168.0.1，DeviceE: 192.168.0.2）\n- DeviceC-DeviceE链路：192.168.1.0/24网段（DeviceC: 192.168.1.1，DeviceE: 192.168.1.2）\n- DeviceD-DeviceE链路：192.168.2.0/24网段（DeviceD: 192.168.2.1，DeviceE: 192.168.2.2）\n- DeviceE额外配置：172.17.1.1/24网段（可能连接外部网络或服务器）\n\n**OSPF配置特点：**\n- 各设备配置独立的Router ID（DeviceA: 1.1.1.1，DeviceB: 2.2.2.2，DeviceC: 3.3.3.3，DeviceD: 4.4.4.4，DeviceE: 5.5.5.5）\n- DeviceA配置了负载均衡功能，支持最大2条等价路径，并对不同下一跳设置权重（10.1.1.2权重为2，10.1.2.2和10.1.3.2权重均为1）\n\n**负载分担实现：**\nDeviceA到DeviceE的流量可通过两条路径实现负载分担：\n1. 路径1：DeviceA → DeviceC → DeviceE（通过192.168.1.0/24网段）\n2. 路径2：DeviceA → DeviceD → DeviceE（通过192.168.2.0/24网段）\n\n此拓扑设计提供了良好的冗余性和负载分担能力，确保网络的高可用性和流量优化。",
  "requirement": "配置负载分担，使得 DeviceA 的流量可以分别通过 DeviceC 和 DeviceD 发送到 DeviceE。",
  "steps": [
    "在各路由器上配置 OSPF 基本功能，实现互连。",
    "在 DeviceA 上配置负载分担功能。",
    "在 DeviceA 上配置等价路由的优先级。",
    "在 DeviceA 上配置逐包的负载分担方式。"
  ],
  "configs": {
    "DeviceA": "#\nsysname DeviceA\n#\nrouter id 1.1.1.1\n#\ninterface GigabitEthernet1/0/\n undo shutdown\n ip address 10.1.1.1 255.255.255.0\n#\ninterface GigabitEthernet2/0/\n undo shutdown\n ip address 10.1.2.1 255.255.255.0\n#\ninterface GigabitEthernet3/0/\n undo shutdown\n ip address 10.1.3.1 255.255.255.0\n#\nospf\n maximum load-balancing 2\n nexthop 10.1.1.2 weight 2\n nexthop 10.1.2.2 weight 1\n nexthop 10.1.3.2 weight 1\n area 0.0.0.0\n  network 10.1.1.0 0.0.0.255\n  network 10.1.2.0 0.0.0.255\n  network 10.1.3.0 0.0.0.255\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\nrouter id 2.2.2.2\n#\ninterface GigabitEthernet1/0/\n undo shutdown\n ip address 10.1.1.2 255.255.255.0\n#\ninterface GigabitEthernet2/0/\n undo shutdown\n ip address 192.168.0.1 255.255.255.0\n#\nospf\n area 0.0.0.0\n  network 10.1.1.0 0.0.0.255\n  network 192.168.0.0 0.0.255.255\n#\nreturn",
    "DeviceC": "#\nsysname DeviceC\n#\nrouter id 3.3.3.3\n#\ninterface GigabitEthernet1/0/\n ip address 10.1.2.2 255.255.255.0\n#\ninterface GigabitEthernet2/0/\n undo shutdown\n ip address 192.168.1.1 255.255.255.0\n#\nospf\n area 0.0.0.0\n  network 10.1.2.0 0.0.0.255\n  network 192.168.1.0 0.0.0.255\n#\nreturn",
    "DeviceD": "#\nsysname DeviceD\n#\nrouter id 4.4.4.4\n#\ninterface GigabitEthernet1/0/\n undo shutdown\n ip address 10.1.3.2 255.255.255.0\n#\ninterface GigabitEthernet2/0/\n undo shutdown\n ip address 192.168.2.1 255.255.255.0\n#\nospf\n area 0.0.0.0\n  network 10.1.3.0 0.0.0.255\n  network 192.168.2.0 0.0.0.255\n#\nreturn",
    "DeviceE": "#\nsysname DeviceE\n#\nrouter id 5.5.5.5\n#\ninterface GigabitEthernet1/0/\n undo shutdown\n ip address 192.168.0.2 255.255.255.0\n#\ninterface GigabitEthernet2/0/\n undo shutdown\n ip address 192.168.1.2 255.255.255.0\n#\ninterface GigabitEthernet3/0/\n undo shutdown\n ip address 192.168.2.2 255.255.255.0\n#\ninterface GigabitEthernet1/0/\n undo shutdown\n ip address 172.17.1.1 255.255.255.0\n#\nospf\n area 0.0.0.0\n  network 192.168.0.0 0.0.255.255\n  network 192.168.1.0 0.0.0.255\n  network 192.168.2.0 0.0.0.255\n  network 172.17.1.0 0.0.0.255\n#\nreturn"
  },
  "related_images": [
    "图1-47 配置 OSPF 负载分担组网图.png"
  ]
}