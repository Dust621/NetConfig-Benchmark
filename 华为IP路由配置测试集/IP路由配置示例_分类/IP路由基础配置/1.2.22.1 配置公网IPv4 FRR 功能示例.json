{
  "topology": "该网络由4台路由器设备组成双路径冗余拓扑结构：\n\n**设备配置：**\n- DeviceT：作为源端设备，配置3个接口\n  - Interface1 (GE1/0/0): 172.16.1.1/24 - 连接目标网络\n  - Interface2 (GE2/0/0): 192.168.10.1/24 - 连接DeviceA (主路径)\n  - Interface3 (GE3/0/0): 192.168.20.1/24 - 连接DeviceB (备份路径)\n\n- DeviceA：主路径中继设备\n  - Interface1 (GE1/0/0): 192.168.10.2/24 - 连接DeviceT\n  - Interface2 (GE2/0/0): 192.168.11.2/24 - 连接DeviceC\n\n- DeviceB：备份路径中继设备\n  - Interface1 (GE1/0/0): 192.168.20.2/24 - 连接DeviceT\n  - Interface2 (GE2/0/0): 192.168.21.2/24 - 连接DeviceC\n\n- DeviceC：汇聚设备，配置3个接口\n  - Interface1 (GE1/0/0): 172.17.1.1/24 - 目标网络接口\n  - Interface2 (GE2/0/0): 192.168.11.1/24 - 连接DeviceA (主路径)\n  - Interface3 (GE3/0/0): 192.168.21.1/24 - 连接DeviceB (备份路径)\n\n**路径结构：**\n- Link A (主链路): DeviceT → DeviceA → DeviceC\n- Link B (备份链路): DeviceT → DeviceB → DeviceC\n\n**协议配置：**\n- OSPF区域0: 覆盖主路径网段192.168.10.0/24、192.168.11.0/24和目标网段172.16.1.0/24、172.17.1.0/24\n- ISIS: 在备份路径上运行，覆盖网段192.168.20.0/24、192.168.21.0/24\n- IPv4 FRR: 在DeviceT上启用，实现主备路径快速切换\n\n该拓扑通过混合路由协议和FRR技术实现链路冗余保护，当主链路故障时流量自动切换至备份链路。",
  "requirement": "通过配置公网IPv4 FRR，主链路故障时，流量可以快速切换到备份链路。要求在DeviceT上配置备份出接口和备份下一跳，使链路B为链路A的备份。当链路A出现故障时，流量可以快速切换到链路B上。",
  "steps": [
    "在DeviceT、DeviceA和DeviceC上使能OSPF基本功能。",
    "在DeviceT、DeviceB和DeviceC上使能IS-IS基本功能。",
    "在DeviceT上使能公网IPv4 FRR功能，查看备份出接口和备份下一跳的信息。",
    "IPv4 FRR去使能后，查看备份出接口和备份下一跳的信息。"
  ],
  "configs": {
    "DeviceT": "#\nsysname DeviceT\n#\nip frr\n#\nisis network-entity 10.0000.0000.0001.00\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 172.16.1.1 255.255.255.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 192.168.10.1 255.255.255.0\n#\ninterface GigabitEthernet3/0/0\n undo shutdown\n ip address 192.168.20.1 255.255.255.0\n isis enable\n#\nospf 1\n area 0.0.0.0\n  network 192.168.10.0 0.0.0.255\n  network 172.16.1.0 0.0.0.255\n#\nreturn",
    "DeviceA": "#\nsysname DeviceA\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 192.168.10.2 255.255.255.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 192.168.11.2 255.255.255.0\n#\nospf 1\n area 0.0.0.0\n  network 192.168.10.0 0.0.0.255\n  network 192.168.11.0 0.0.0.255\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\nisis network-entity 10.0000.0000.0002.00\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 192.168.20.2 255.255.255.0\n isis enable\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 192.168.21.2 255.255.255.0\n isis enable\n#\nreturn",
    "DeviceC": "#\nsysname DeviceC\n#\nisis network-entity 10.0000.0000.0003.00\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 172.17.1.1 255.255.255.0\n isis enable\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 192.168.11.1 255.255.255.0\n#\ninterface GigabitEthernet3/0/0\n undo shutdown\n ip address 192.168.21.1 255.255.255.0\n isis enable\n#\nospf 1\n area 0.0.0.0\n  network 192.168.11.0 0.0.0.255\n  network 192.168.21.0 0.0.0.255\n  network 172.17.1.0 0.0.0.255\n#\nreturn"
  },
  "related_images": [
    "图1-13 配置公网 IPv4 FRR 功能组网图.png"
  ]
}