{
  "topology": "基于网络拓扑图和配置文件分析，该网络由四台路由器设备组成一个三角形加延伸的拓扑结构：\n\n**设备连接关系：**\n- DeviceA通过interface1（GE1/0/0，IP：2.2.2.1/24）连接DeviceB的interface3（GE1/0/0，IP：2.2.2.2/24）\n- DeviceA通过interface2（GE2/0/0，IP：3.3.3.1/24）连接DeviceC的interface2（GE2/0/0，IP：3.3.3.2/24）\n- DeviceB通过interface1（GE2/0/0，IP：4.4.4.1/24）连接DeviceC的interface1（GE1/0/0，IP：4.4.4.2/24）\n- DeviceB通过interface2（GE3/0/0，IP：172.16.1.1/24）连接DeviceD的interface（GE1/0/0，IP：172.16.1.2/24）\n\n**网络分段：**\n- 网段1：2.2.2.0/24（DeviceA-DeviceB直连链路）\n- 网段2：3.3.3.0/24（DeviceA-DeviceC直连链路）  \n- 网段3：4.4.4.0/24（DeviceB-DeviceC直连链路）\n- 网段4：172.16.1.0/24（DeviceB-DeviceD直连链路）\n\n**协议配置：**\n- 所有设备运行RIP v2协议进行路由交换\n- 主要传输路径：DeviceA → DeviceB → DeviceD（经过2.2.2.0/24和172.16.1.0/24网段）\n- 备份路径：DeviceA → DeviceC → DeviceB → DeviceD（经过3.3.3.0/24、4.4.4.0/24和172.16.1.0/24网段）\n\n**BFD配置：**\n- 在DeviceA和DeviceB之间的直连接口（2.2.2.0/24网段）上配置静态BFD\n- DeviceA本地判别符为1，远程判别符为2\n- DeviceB本地判别符为2，远程判别符为1\n- 通过BFD for RIP实现毫秒级故障检测，提高网络收敛速度",
  "requirement": "通过配置 BFD for RIP 特性，可以快速检测链路的状态，故障检测时间可以达到毫秒级，提高链路状态变化时 RIP 的收敛速度。当主链路发生故障，BFD 可以快速的检测到并通知 RIP，业务流量会快速切换到备份路径进行传输。",
  "steps": [
    "在各路由器上配置 RIP 的基本功能，建立 RIP 邻居。",
    "使能全局 BFD 功能。",
    "在 DeviceA 和 DeviceB 相连接的接口上使能静态 BFD 功能。"
  ],
  "configs": {
    "DeviceA": "#\nsysname DeviceA\n#\nbfd\n#\ninterface gigabitethernet1/0/0\n undo shutdown\n ip address 2.2.2.1 255.255.255.0\n rip bfd static\n#\ninterface gigabitethernet2/0/0\n undo shutdown\n ip address 3.3.3.1 255.255.255.0\n#\nrip 1\n version 2\n network 2.0.0.0\n network 3.0.0.0\n#\nbfd 1 bind peer-ip 2.2.2.2 interface gigabitethernet1/0/0 source-ip 2.2.2.1\n discriminator local 1\n discriminator remote 2\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\nbfd\n#\ninterface gigabitethernet1/0/0\n undo shutdown\n ip address 2.2.2.2 255.255.255.0\n rip bfd static\n#\ninterface gigabitethernet2/0/0\n undo shutdown\n ip address 4.4.4.1 255.255.255.0\n#\ninterface gigabitethernet3/0/0\n undo shutdown\n ip address 172.16.1.1 255.255.255.0\n#\nrip 1\n version 2\n network 2.0.0.0\n network 4.0.0.0\n network 172.16.0.0\n#\nbfd 1 bind peer-ip 2.2.2.1 interface gigabitethernet1/0/0 source-ip 2.2.2.2\n discriminator local 2\n discriminator remote 1\n#\nreturn",
    "DeviceC": "#\nsysname DeviceC\n#\ninterface gigabitethernet1/0/0\n undo shutdown\n ip address 4.4.4.2 255.255.255.0\n#\ninterface gigabitethernet2/0/0\n undo shutdown\n ip address 3.3.3.2 255.255.255.0\n#\nrip 1\n version 2\n network 3.0.0.0\n network 4.0.0.0\n#\nreturn",
    "DeviceD": "#\nsysname DeviceD\n#\ninterface gigabitethernet1/0/0\n undo shutdown\n ip address 172.16.1.2 255.255.255.0\n#\nrip 1\n version 2\n network 172.16.0.0\n#\nreturn"
  },
  "related_images": [
    "图1-81配置静态BFDforRIP组网图.png"
  ]
}