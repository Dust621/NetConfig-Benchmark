{
  "topology": "网络拓扑由四台设备组成：DeviceA、DeviceB、DeviceC和DeviceD，形成三角形冗余结构加一个终端设备。\n\n**设备连接关系：**\n- DeviceA通过interface1（2.2.2.1/24）直连DeviceB的interface1（2.2.2.2/24）- 主链路\n- DeviceA通过interface2（3.3.3.1/24）连接DeviceC的interface2（3.3.3.2/24）\n- DeviceB通过interface2（4.4.4.1/24）连接DeviceC的interface1（4.4.4.2/24）\n- DeviceB通过interface3（172.16.1.1/24）连接DeviceD的interface1（172.16.1.2/24）\n\n**网络分段：**\n- 2.2.2.0/24网段：DeviceA-DeviceB主链路\n- 3.3.3.0/24网段：DeviceA-DeviceC链路  \n- 4.4.4.0/24网段：DeviceC-DeviceB链路\n- 172.16.1.0/24网段：DeviceB-DeviceD链路\n\n**协议配置：**\n- 所有设备运行RIP v2协议进行路由交换\n- DeviceA和DeviceB启用BFD for RIP特性，检测间隔100ms，检测倍数10，故障检测时间达到毫秒级\n- DeviceC和DeviceD仅配置标准RIP协议\n\n**冗余设计：**\n主路径：DeviceA → DeviceB（2.2.2.0/24网段）\n备份路径：DeviceA → DeviceC → DeviceB（通过3.3.3.0/24和4.4.4.0/24网段）\n\n当主链路故障时，BFD快速检测机制触发RIP重收敛，流量自动切换至备份路径，实现网络高可用性。",
  "requirement": "通过配置 BFD for RIP 特性，可以快速检测链路状态，故障检测时间可以达到毫秒级，从而提高链路状态变化时 RIP 的收敛速度。当主链路故障时，用户希望能够快速感知，及时将业务流量切换到备份链路上。",
  "steps": [
    "在每个路由器上使能 RIP 基本功能，并保证 RIP 邻居的成功建立。",
    "使能全局 BFD 特性。",
    "使能 DeviceA 和 DeviceB 之间链路接口的 BFD 检测机制。"
  ],
  "configs": {
    "DeviceA": "#\nsysname DeviceA\n#\nbfd\n#\ninterface gigabitethernet1/0/0\n undo shutdown\n ip address 2.2.2.1 255.255.255.0\n#\ninterface gigabitethernet2/0/0\n undo shutdown\n ip address 3.3.3.1 255.255.255.0\n#\nrip 1\n version 2\n network 2.0.0.0\n network 3.0.0.0\n bfd all-interfaces enable\n bfd all-interfaces min-tx-interval 100 min-rx-interval 100 detect-multiplier 10\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\nbfd\n#\ninterface gigabitethernet1/0/0\n undo shutdown\n ip address 2.2.2.2 255.255.255.0\n#\ninterface gigabitethernet2/0/0\n undo shutdown\n ip address 4.4.4.1 255.255.255.0\n#\ninterface gigabitethernet3/0/0\n undo shutdown\n ip address 172.16.1.1 255.255.255.0\n#\nrip 1\n version 2\n network 2.0.0.0\n network 4.0.0.0\n network 172.16.0.0\n bfd all-interfaces enable\n bfd all-interfaces min-tx-interval 100 min-rx-interval 100 detect-multiplier 10\n#\nreturn",
    "DeviceC": "#\nsysname DeviceC\n#\ninterface gigabitethernet1/0/0\n undo shutdown\n ip address 4.4.4.2 255.255.255.0\n#\ninterface gigabitethernet2/0/0\n undo shutdown\n ip address 3.3.3.2 255.255.255.0\n#\nrip 1\n version 2\n network 3.0.0.0\n network 4.0.0.0\n#\nreturn",
    "DeviceD": "#\nsysname DeviceD\n#\ninterface gigabitethernet1/0/0\n undo shutdown\n ip address 172.16.1.2 255.255.255.0\n#\nrip 1\n version 2\n network 172.16.0.0\n#\nreturn"
  },
  "related_images": [
    "图1-80 配置动态BFD for RIP 组网图.png"
  ]
}