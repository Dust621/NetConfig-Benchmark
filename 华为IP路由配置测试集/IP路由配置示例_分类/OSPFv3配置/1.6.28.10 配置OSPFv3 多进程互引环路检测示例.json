{
  "topology": "基于网络拓扑图和配置文件分析，该网络由6台路由器设备组成，采用多协议路由架构：\n\n**物理连接拓扑：**\n- DeviceA通过GE1/0/0（2001:db8:1::1/64）连接DeviceB的GE1/0/0（2001:db8:1::2/64）\n- DeviceA通过GE2/0/0（2001:db8:2::2/64）连接DeviceF的GE1/0/0（2001:db8:2::1/64）\n- DeviceB通过GE2/0/0（2001:db8:5::2/64）连接DeviceF的GE2/0/0（2001:db8:5::1/64）\n- DeviceB通过GE3/0/0（2001:db8:3::2/64）连接DeviceC的GE1/0/0（2001:db8:3::1/64）\n- DeviceC通过GE2/0/0（2001:db8:7::2/64）连接DeviceE的GE2/0/0（2001:db8:7::1/64）\n- DeviceC通过GE3/0/0（2001:db8:6::2/64）连接DeviceD的GE1/0/0（2001:db8:6::1/64）\n- DeviceE通过GE1/0/0（2001:db8:4::1/64）连接DeviceF的GE3/0/0（2001:db8:4::2/64）\n- DeviceE通过GE3/0/0（2001:db8:9::1/64）连接DeviceD的GE2/0/0（2001:db8:9::2/64）\n- DeviceD配置LoopBack0接口（2001:db8:44::44/64）\n\n**协议配置域：**\n- IS-IS区域：DeviceC、DeviceD、DeviceE运行IS-IS Level-2，覆盖网段2001:db8:6::/64、2001:db8:7::/64、2001:db8:9::/64\n- OSPFv3进程1：DeviceB、DeviceC、DeviceE、DeviceF，覆盖网段2001:db8:3::/64、2001:db8:4::/64、2001:db8:5::/64、2001:db8:7::/64\n- OSPFv3进程2：DeviceA、DeviceB、DeviceF，覆盖网段2001:db8:1::/64、2001:db8:2::/64\n\n**路由重分布配置：**\n- DeviceC：IS-IS路由引入OSPFv3进程1\n- DeviceB：OSPFv3进程1路由引入OSPFv3进程2\n- DeviceF：OSPFv3进程2路由引入OSPFv3进程1\n- DeviceE：IS-IS路由引入OSPFv3进程1\n\n**防环机制：**\n所有设备启用OSPFv3环路检测功能（route loop-detect ospfv3 enable），防止路由重分布引起的环路问题。",
  "requirement": "在现网应用中，OSPFv3 路由可以通过路由引入的方式在其他 OSPFv3 进程进行重发布。此类场景通常通过多台设备协同配置路由策略防环。如果引入路由的设备路由策略配置不当，可能导致路由环路。为了避免该问题，可以在 OSPFv3 引入路由时，配置环路检测功能。",
  "steps": [
    "配置各设备接口的 IP 地址。",
    "在设备上使能 IS-IS、OSPFv3，配置基本功能。",
    "配置路由引入，构造环路。",
    "验证是否存在路由环路。",
    "使能路由环路检测功能，验证环路是否解除。"
  ],
  "configs": {
    "DeviceA": "#\nsysname DeviceA\n#\nospfv3 router-id 1.1.1.1 area 0.0.0.0\n#\nroute loop-detect ospfv3 enable\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:1::1/64\n ipv6 address FE80::A:B link-local\n ospfv3 2 area 0.0.0.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:2::2/64\n ipv6 address FE80::A:F link-local\n ospfv3 2 area 0.0.0.0\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\nospfv3 router-id 2.2.2.2 area 0.0.0.0\n#\nospfv3 router-id 2.2.2.2 import-route ospfv3 area 0.0.0.0\n#\nroute loop-detect ospfv3 enable\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:1::2/64\n ipv6 address FE80::B:A link-local\n ospfv3 2 area 0.0.0.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:5::2/64\n ipv6 address FE80::B:F link-local\n ospfv3 1 area 0.0.0.0\n#\ninterface GigabitEthernet3/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:3::2/64\n ipv6 address FE80::B:C link-local\n ospfv3 1 area 0.0.0.0\n#\nreturn",
    "DeviceC": "#\nsysname DeviceC\n#\nisis is-level level-2 cost-style wide network-entity 10.0000.0000.0003.\n#\nipv6 enable topology standard\n#\nospfv3 router-id 3.3.3.3 import-route isis area 0.0.0.0\n#\nroute loop-detect ospfv3 enable\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:3::1/64\n ipv6 address FE80::C:B link-local\n ospfv3 1 area 0.0.0.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:7::2/64\n ospfv3 1 area 0.0.0.0\n isis ipv6 enable\n#\ninterface GigabitEthernet3/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:6::2/64\n isis ipv6 enable\n#\nreturn",
    "DeviceD": "#\nsysname DeviceD\n#\nisis is-level level-2 cost-style wide network-entity 10.0000.0000.0004.\n#\nipv6 enable topology standard\n#\nroute loop-detect ospfv3 enable\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:6::1/64\n isis ipv6 enable\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:9::2/64\n isis ipv6 enable\n#\ninterface LoopBack0\n ipv6 enable\n ipv6 address 2001:db8:44::44/64\n isis ipv6 enable\n#\nreturn",
    "DeviceE": "#\nsysname DeviceE\n#\nisis is-level level-2 cost-style wide network-entity 10.0000.0000.0005.\n#\nipv6 enable topology standard\n#\nospfv3 router-id 5.5.5.5 import-route isis area 0.0.0.0\n#\nroute loop-detect ospfv3 enable\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:4::1/64\n ipv6 address FE80::E:F link-local\n ospfv3 1 area 0.0.0.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:7::1/64\n ospfv3 1 area 0.0.0.0\n isis ipv6 enable\n#\ninterface GigabitEthernet3/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:9::1/64\n isis ipv6 enable\n#\nreturn",
    "DeviceF": "#\nsysname DeviceF\n#\nospfv3 router-id 6.6.6.6 import-route ospfv3 area 0.0.0.0\n#\nospfv3 router-id 6.6.6.6 area 0.0.0.0\n#\nroute loop-detect ospfv3 enable\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:2::1/64\n ipv6 address FE80::F:A link-local\n ospfv3 2 area 0.0.0.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:5::1/64\n ipv6 address FE80::F:B link-local\n ospfv3 1 area 0.0.0.0\n#\ninterface GigabitEthernet3/0/0\n undo shutdown\n ipv6 enable\n ipv6 address 2001:db8:4::2/64\n ospfv3 1 area 0.0.0.0\n#\nreturn"
  },
  "related_images": [
    "图1-70OSPFv3多进程互引环路检测.png"
  ]
}