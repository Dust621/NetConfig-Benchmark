{
  "topology": "**网络拓扑详细架构描述**\n\n**物理拓扑结构**\n该网络拓扑由6台路由器设备构成三层网络架构：核心骨干网络、企业总部网络和企业分支网络。所有设备通过以太网接口（GE0/5/0、GE0/5/1、GE0/5/2）进行互联，形成冗余的星型-环型混合拓扑结构。\n\n**设备角色与功能划分**\n- **骨干核心层**：P2作为路由反射器（Route Reflector），承担IBGP路由分发功能\n- **骨干汇聚层**：PE2、PE4作为Provider Edge路由器和RR Client，负责企业网络接入\n- **企业核心层**：P1作为企业总部核心路由器，集中管理企业内部路由\n- **企业接入层**：PE1、PE3作为企业分支接入路由器，提供分支网络接入服务\n\n**IP地址规划方案**\n- **互联链路地址**：采用10.0.0.Y/30网段，Y值按图中标注分配\n  - P1-P2链路：10.0.0.13/30 (.13-.14)\n  - P2-PE2链路：10.0.0.10/30 (.10-.9) \n  - P2-PE4链路：10.0.0.21/30 (.21-.22)\n  - PE2-PE1链路：10.0.0.2/30 (.2-.1)\n  - PE4-PE3链路：10.0.0.26/30 (.26-.25)\n- **Loopback0地址**：10.0.X.X格式，X值对应设备编号\n  - PE1: 10.0.1.1/32, PE2: 10.0.2.2/32, PE3: 10.0.3.3/32\n  - PE4: 10.0.4.4/32, P1: 10.0.5.5/32, P2: 10.0.6.6/32\n- **业务网段**：Loopback1/2接口模拟OA和财政业务网段\n\n**BGP自治系统架构**\n- **AS 65003（企业总部）**：P1独立AS，通过HO接口连接骨干网\n- **AS 65100（骨干网络）**：P2、PE2、PE4组成OSPF Area 0，建立IBGP全连接\n- **AS 65001（分支一）**：PE1通过Branch1接口接入\n- **AS 65002（分支二）**：PE3通过Branch2接口接入\n\n**路由协议部署策略**\n- **OSPF部署**：骨干网络（AS 65100）运行OSPF协议，Area 0覆盖P2、PE2、PE4\n- **EBGP对等体关系**：\n  - P1（AS 65003）与P2（AS 65100）建立EBGP邻接\n  - PE1（AS 65001）与PE2（AS 65100）建立EBGP邻接  \n  - PE3（AS 65002）与PE4（AS 65100）建立EBGP邻接\n- **IBGP对等体关系**：采用路由反射器架构，P2为RR，PE2、PE4为Client\n- **BGP安全机制**：部署GTSM（Generalized TTL Security Mechanism）和BGP认证\n\n**高级特性配置**\n- **路由策略控制**：通过Community Filter和AS_Path Filter实现路由传递控制\n- **ORF特性**：在P1-P2间配置Outbound Route Filtering，限制路由接收\n- **对等体组管理**：使用Peer Group简化IBGP配置管理\n- **业务路由标记**：为OA、财政业务网段路由设置Community值，标识路由始发AS\n\n**网络安全架构**\n该拓扑实现多层次安全防护：BGP会话认证、GTSM防护、基于Community的路由过滤和ORF入站路由控制，确保企业网络与骨干网络间的安全路由交换。",
  "requirement": "实现 BGP 路由策略配置，实现 BGP 安全特性配置，实现 BGP ORF 特性配置",
  "steps": [
    "设备 IP 地址配置",
    "在骨干区域配置 OSPF，构建底层网络",
    "在骨干网络与企业网络之间完成 BGP 配置，部署 GTSM 与 BGP 认证，保证 BGP 网络安全",
    "完成骨干网络的 IBGP 对等体关系配置，为简化配置使用对等体组完成对等体关系建立，同时配置 P2 为 RR，PE2、PE4 作为 RR Client",
    "在 P1、PE1、PE3 上均创建 Loopback1、2，分别用于模拟业务网段 OA、财政，同时配置路由策略，给 Loopback1 接口路由打上 community 值，用于标注路由的始发 AS",
    "在 P2、PE2、PE4 上配置路由策略，实现 OA、财政业务网段路由的传递控制",
    "在 P1、P2 上配置 ORF 特性，限制 P1 接收的路由"
  ],
  "configs": {
    "PE1": "",
    "PE2": "",
    "PE3": "",
    "PE4": "",
    "P1": "",
    "P2": ""
  },
  "topology_original": "设备连接方式、IP 地址规划、BGP AS 号、BGP 对等体关系如图所示，接口互联地址均为10.0.0.Y/30，其中 Y 值已在图中标注。所有设备均创建 Loopback0 接口，Loopback 接口 IP 地址为 10.0.X.X，其中 X 值会在对应配置步骤中使用表格标明。在本实验中我们将会使用 P2、PE2、PE4 模拟 Backbone 网络，P1 模拟企业总部，PE1、PE3 分别模拟企业分支，我们将会在 PE1、PE3、P1 上创建不同的环回接口用于模拟终端用户，通过Community Filter、AS_Path Filter、ORF 特性来实现业务网络路由传递的控制。PE1: Loopback0 接口 IP: 10.0.1.1, PE2: Loopback0 接口 IP: 10.0.2.2, PE3: Loopback0 接口 IP: 10.0.3.3, PE4: Loopback0 接口 IP: 10.0.4.4, P1: Loopback0 接口 IP: 10.0.5.5, P2: Loopback0 接口 IP: 10.0.6.6"
}