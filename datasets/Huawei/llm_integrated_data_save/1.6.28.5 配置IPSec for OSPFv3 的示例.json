{
  "topology": "DeviceA和DeviceB通过公共网络连接，作为OSPFv3路由器，OSPFv3区域为0.0.0.0。",
  "requirement": "为了防止DeviceA和DeviceB之间的路由协议报文被攻击者更改或仿冒，需要在DeviceA和DeviceB之间配置IPSec安全隧道，对它们收发的OSPFv3协议报文进行安全保护。安全协议采用ESP（Encapsulating Security Payload），认证算法采用SHA2-256（Secure Hash Algorithm2-256）。",
  "steps": [
    "配置OSPFv3基本功能，使DeviceA和DeviceB之间能够建立OSPFv3路由。",
    "配置IPSec安全提议，并配置提议使用的安全协议为ESP，以及ESP协议采用的认证算法为SHA2-256、加密算法为AES 256。",
    "配置安全联盟参数。",
    "在OSPFv3进程上应用安全联盟，以实现IPSec对DeviceA和DeviceB之间OSPFv3路由协议报文的保护。"
  ],
  "configs": {
    "DeviceA": "#\nsysname DeviceA\n#\nipsec proposal proposal1\nencapsulation-mode transport\nesp authentication-algorithm sha2-256\nesp encryption-algorithm aes 256\n#\nipsec sa sa1\nproposal proposal1\nsa spi inbound esp 12345\nsa string-key inbound esp %#%#<}jb{br9\\zi%X+/Y@:Y>Lw(L\\v#*^KsM\"/8RaRe$%#%#\nsa spi outbound esp 12345\nsa string-key outbound esp %#%#<}j/@X4355SE9JZTD0>GQf\"}w2@X,k6.E\\Z,z\\{#%#%#\n#\nospfv3 1\nrouter-id 1.1.1.1\nipsec sa sa1\narea 0.0.0.0\n#\ninterface GigabitEthernet1/0/1\nundo shutdown\nipv6 enable\nipv6 address 2001:db8::1/64\nospfv3 1 area 0.0.0.0\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\nipsec proposal proposal2\nencapsulation-mode transport\nesp authentication-algorithm sha2-256\nesp encryption-algorithm aes 256\n#\nipsec sa sa2\nproposal proposal2\nsa spi inbound esp 12345\nsa string-key inbound esp %#%#<}j/@XSE9JZT5]2\"T#]2\"T<}j/@XSE9JZT5>%#%#\nsa spi outbound esp 12345\nsa string-key outbound esp %#%#)YTP%@nFE7bL^B&WSBiQ1[p#M\"/8RaRe%$7$%#%#\n#\nospfv3 1\nrouter-id 2.2.2.2\nipsec sa sa2\narea 0.0.0.0\n#\ninterface GigabitEthernet1/0/1\nundo shutdown\nipv6 enable\nipv6 address 2001:db8::2/64\nospfv3 1 area 0.0.0.0\n#\nreturn"
  },
  "related_images": [
    "图1-65 配置IPSec for OSPFv3 的示例组网图.png"
  ]
}