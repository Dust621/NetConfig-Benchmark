{
  "topology": "DeviceA 和 DeviceB 之间建立EBGP邻居。interface1 代表GE1/0/0，interface2 代表GE2/0/0。",
  "requirement": "利用BFD检测DeviceA和DeviceB的BGP邻居关系。当DeviceA和DeviceB之间的链路发生故障时，BFD能够快速检测到故障并通告给BGP，实现网络的快速收敛。",
  "steps": [
    "在各设备上配置BGP基本功能。",
    "在DeviceA和DeviceB上使能静态BFD。",
    "在DeviceA和DeviceB上使能BGP BFD检测功能。"
  ],
  "configs": {
    "DeviceA": "#\nsysname DeviceA\n#\nbfd\n#\ninterface Eth-Trunk1\n ip address 10.20.1.1 255.255.255.0\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n eth-trunk 1\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n eth-trunk 1\n#\nbfd AtoB bind peer-ip 10.20.1.2 group\n sub-session discriminator local 100 remote 200 select-board 1\n sub-session discriminator local 300 remote 400 select-board 2\n#\nbgp 100\n router-id 1.1.1.1\n private-4-byte-as enable\n peer 10.20.1.2 as-number 200\n peer 10.20.1.2 bfd track session-name AtoB\n #\n ipv4-family unicast\n  undo synchronization\n  peer 10.20.1.2 enable\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\nbfd\n#\ninterface Eth-Trunk1\n ip address 10.20.1.2 255.255.255.0\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n eth-trunk 1\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n eth-trunk 1\n#\nbfd BtoA bind peer-ip 10.20.1.1 group\n sub-session discriminator local 200 remote 100 select-board 1\n sub-session discriminator local 400 remote 300 select-board 2\n#\nbgp 200\n router-id 2.2.2.2\n private-4-byte-as enable\n peer 10.20.1.1 as-number 100\n peer 10.20.1.1 bfd track session-name BtoA\n #\n ipv4-family unicast\n  undo synchronization\n  peer 10.20.1.1 enable\n#\nreturn"
  },
  "related_images": [
    "图1-158 配置静态BFD for BGP 功能组网图.png"
  ]
}