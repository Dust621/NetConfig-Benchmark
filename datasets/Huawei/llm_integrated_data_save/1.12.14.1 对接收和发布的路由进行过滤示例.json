{
  "topology": "基于网络拓扑图分析，增强后的网络拓扑描述如下：\n\n该网络为运行OSPF协议的单区域网络，所有设备位于OSPF骨干区域（Area 0）。网络由四台路由器组成：\n\n**设备连接关系：**\n- DeviceA：作为边界路由器，通过interface1（192.168.1.2/24）连接Internet云，获取外部路由172.16.16.0/24、172.16.17.0/24、172.16.18.0/24、172.16.19.0/24、172.16.20.0/24\n- DeviceB：核心转发设备，通过interface1（192.168.1.1/24）与DeviceA直连，通过interface2（192.168.3.1/24）与DeviceD连接，通过interface3（192.168.2.1/24）与DeviceC连接\n- DeviceC：通过interface1（192.168.2.2/24）与DeviceB直连\n- DeviceD：通过interface1（192.168.3.2/24）与DeviceB直连\n\n**路由控制需求：**\n- DeviceA向DeviceB仅发布三条特定路由：172.16.17.0/24、172.16.18.0/24、172.16.19.0/24\n- DeviceC仅接收单条路由：172.16.18.0/24\n- DeviceD接收DeviceB提供的全部外部路由\n- 网络采用192.168.x.x/24网段进行设备间互联\n\n该拓扑为星型结构，DeviceB作为中心节点实现路由分发和控制。",
  "requirement": "DeviceA仅提供172.16.17.0/24、172.16.18.0/24、172.16.19.0/24给DeviceB。DeviceC仅接收路由172.16.18.0/24。DeviceD接收DeviceB提供的全部路由。",
  "steps": [
    "在DeviceA、DeviceB、DeviceC和DeviceD上配置OSPF基本功能。",
    "在DeviceA上配置静态路由，并将这些路由引入OSPF路由。",
    "在DeviceA上配置路由发布策略，在DeviceB上查看过滤结果。",
    "在DeviceC上配置路由接收策略，在DeviceC上查看过滤结果。"
  ],
  "configs": {
    "DeviceA": "#\nsysname DeviceA\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 192.168.1.1 255.255.255.0\n#\nospf 1\n filter-policy ip-prefix a2b export static\n import-route static\n area 0.0.0.0\n  network 192.168.1.0 0.0.0.255\n#\nip ip-prefix a2b index 10 permit 172.16.17.0\nip ip-prefix a2b index 20 permit 172.16.18.0\nip ip-prefix a2b index 30 permit 172.16.19.0\n#\nip route-static 172.16.16.0 255.255.255.0 NULL\nip route-static 172.16.17.0 255.255.255.0 NULL\nip route-static 172.16.18.0 255.255.255.0 NULL\nip route-static 172.16.19.0 255.255.255.0 NULL\nip route-static 172.16.20.0 255.255.255.0 NULL\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 192.168.1.2 255.255.255.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 192.168.3.1 255.255.255.0\n#\ninterface GigabitEthernet3/0/0\n undo shutdown\n ip address 192.168.2.1 255.255.255.0\n#\nospf 1\n area 0.0.0.0\n  network 192.168.1.0 0.0.0.255\n  network 192.168.2.0 0.0.0.255\n  network 192.168.3.0 0.0.0.255\n#\nreturn",
    "DeviceC": "#\nsysname DeviceC\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 192.168.2.2 255.255.255.0\n#\nospf 1\n filter-policy ip-prefix in import\n area 0.0.0.0\n  network 192.168.2.0 0.0.0.255\n#\nip ip-prefix in index 10 permit 172.16.18.0\n#\nreturn",
    "DeviceD": "#\nsysname DeviceD\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 192.168.3.2 255.255.255.0\n#\nospf 1\n area 0.0.0.0\n  network 192.168.3.0 0.0.0.255\n#\nreturn"
  },
  "related_images": [
    "图1-185 配置对接收和发布的路由过滤组网图.png"
  ],
  "topology_original": "运行OSPF协议的网络中，DeviceA从Internet网络接收路由，并为DeviceB提供了部分Internet路由。DeviceA、DeviceB、DeviceC和DeviceD位于OSPF骨干区域（Area0）。"
}