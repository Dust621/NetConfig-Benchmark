{
  "topology": "根据网络拓扑图分析，增强后的网络拓扑描述如下：\n\n**网络拓扑结构：**\n- DeviceA（路由器）和DeviceB（路由器）通过以太网链路直连\n- DeviceA的interface2（172.16.1.1/24）连接DeviceB的interface2（172.16.1.2/24）\n- DeviceB的interface1连接外部网络，可达目标网段1.1.1.1/32\n\n**IP地址分配：**\n- DeviceA interface2: 172.16.1.1/24\n- DeviceB interface2: 172.16.1.2/24\n- 目标网络: 1.1.1.1/32（通过DeviceB可达）\n\n**协议配置：**\n- 在DeviceA和DeviceB的直连接口上启用EFM OAM（以太网操作管理维护）功能\n- DeviceA配置静态路由指向目标1.1.1.1/32，下一跳为172.16.1.2（DeviceB）\n- 静态路由与EFM OAM状态联动，当EFM检测到链路故障时自动撤销路由\n- 通过EFM UP/DOWN事件控制静态路由的激活状态，实现链路状态感知的路由控制\n\n**网络功能：**\n该拓扑实现基于EFM OAM的链路监控和静态路由联动，确保只有在链路正常时才发布到达1.1.1.1/32的路由，提高网络的可靠性和收敛速度。",
  "requirement": "通过配置EFM联动IPv4静态路由，系统响应指定接口的EFM UP/DOWN事件，决定是否激活静态路由，由此控制路由的发布并引导远端的流量。在DeviceA上配置到达1.1.1.1/32的静态路由，该静态路由与EFM联动。",
  "steps": [
    "在DeviceA和DeviceB上开启EFM OAM功能（全局和接口下开启）。",
    "配置DeviceA到1.1.1.1/32的静态路由，EFM联动该静态路由。"
  ],
  "configs": {
    "DeviceA": "#\nsysname DeviceA\n#\nefm enable\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n efm enable\n#\ninterface GigabitEthernet1/0/1\n undo shutdown\n ip address 172.16.1.1 255.255.255.0\n#\nip route-static 1.1.1.1 255.255.255.255 GigabitEthernet1/0/1 172.16.1.2 track efm-state GigabitEthernet1/0/0\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\nefm enable\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n efm enable\n#\ninterface GigabitEthernet1/0/1\n undo shutdown\n ip address 172.16.1.2 255.255.255.0\n#\ninterface LoopBack0\n ip address 1.1.1.1 255.255.255.255\n#\nreturn"
  },
  "related_images": [
    "图1-25 配置EFM联动IPv4静态路由组网图.png"
  ],
  "topology_original": "DeviceA和DeviceB相连，在DeviceA和DeviceB上开启EFM OAM功能。"
}