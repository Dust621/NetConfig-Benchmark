{
  "topology": "基于网络拓扑图分析，增强后的网络拓扑描述如下：\n\n**网络拓扑结构：**\n该网络由四台路由器设备组成：DeviceA、DeviceB、DeviceC和DeviceD，采用冗余设计确保高可用性。\n\n**设备连接关系：**\n- DeviceA通过interface1（IP：2.2.2.1/24）直连DeviceB的interface1（IP：2.2.2.2/24），构成主链路\n- DeviceA通过interface2（IP：3.3.3.1/24）连接DeviceC的interface2（IP：3.3.3.2/24）\n- DeviceC通过interface1（IP：4.4.4.2/24）连接DeviceB的interface2（IP：4.4.4.1/24）\n- DeviceB通过interface3（IP：172.16.1.1/24）连接DeviceD的interface3（IP：172.16.1.2/24）\n- DeviceD通过interface1（IP：172.16.1.2/24）连接DeviceB的interface2，形成环形冗余结构\n\n**IP地址规划：**\n- 主链路段：2.2.2.0/24网段\n- 备份路径段1：3.3.3.0/24网段  \n- 备份路径段2：4.4.4.0/24网段\n- 扩展连接段：172.16.1.0/24网段\n\n**冗余路径设计：**\n- 主路径：DeviceA → DeviceB（直连链路）\n- 备份路径：DeviceA → DeviceC → DeviceB（双跳路径）\n- 扩展路径：通过DeviceD提供额外的路由冗余\n\n**协议配置：**\n部署RIP路由协议配合BFD快速故障检测机制，实现毫秒级故障感知和路径切换，确保主链路故障时业务流量能够快速切换至备份路径，提高网络收敛速度和业务连续性。",
  "requirement": "通过配置 BFD for RIP 特性，可以快速检测链路状态，故障检测时间可以达到毫秒级，从而提高链路状态变化时 RIP 的收敛速度。当主链路故障时，用户希望能够快速感知，及时将业务流量切换到备份链路上。",
  "steps": [
    "在每个路由器上使能 RIP 基本功能，并保证 RIP 邻居的成功建立。",
    "使能全局 BFD 特性。",
    "使能 DeviceA 和 DeviceB 之间链路接口的 BFD 检测机制。"
  ],
  "configs": {
    "DeviceA": "#\nsysname DeviceA\n#\nbfd\n#\ninterface gigabitethernet1/0/0\n undo shutdown\n ip address 2.2.2.1 255.255.255.0\n#\ninterface gigabitethernet2/0/0\n undo shutdown\n ip address 3.3.3.1 255.255.255.0\n#\nrip 1\n version 2\n network 2.0.0.0\n network 3.0.0.0\n bfd all-interfaces enable\n bfd all-interfaces min-tx-interval 100 min-rx-interval 100 detect-multiplier 10\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\nbfd\n#\ninterface gigabitethernet1/0/0\n undo shutdown\n ip address 2.2.2.2 255.255.255.0\n#\ninterface gigabitethernet2/0/0\n undo shutdown\n ip address 4.4.4.1 255.255.255.0\n#\ninterface gigabitethernet3/0/0\n undo shutdown\n ip address 172.16.1.1 255.255.255.0\n#\nrip 1\n version 2\n network 2.0.0.0\n network 4.0.0.0\n network 172.16.0.0\n bfd all-interfaces enable\n bfd all-interfaces min-tx-interval 100 min-rx-interval 100 detect-multiplier 10\n#\nreturn",
    "DeviceC": "#\nsysname DeviceC\n#\ninterface gigabitethernet1/0/0\n undo shutdown\n ip address 4.4.4.2 255.255.255.0\n#\ninterface gigabitethernet2/0/0\n undo shutdown\n ip address 3.3.3.2 255.255.255.0\n#\nrip 1\n version 2\n network 3.0.0.0\n network 4.0.0.0\n#\nreturn",
    "DeviceD": "#\nsysname DeviceD\n#\ninterface gigabitethernet1/0/0\n undo shutdown\n ip address 172.16.1.2 255.255.255.0\n#\nrip 1\n version 2\n network 172.16.0.0\n#\nreturn"
  },
  "related_images": [
    "图1-80 配置动态BFD for RIP 组网图.png"
  ],
  "topology_original": "网络中部署主/备链路，主链路为 DeviceA→DeviceB，备链路为 DeviceA→DeviceC→DeviceB。正常情况下，业务流量在主链路上传送。"
}