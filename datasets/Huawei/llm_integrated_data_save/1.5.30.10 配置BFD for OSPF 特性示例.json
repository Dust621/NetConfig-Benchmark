{
  "topology": "基于网络拓扑图分析，增强后的网络拓扑描述如下：\n\n**网络拓扑结构：**\n- 设备组成：三台路由器（DeviceA、DeviceB、DeviceC）构成三角型拓扑\n- 所有设备均部署在OSPF Area0（骨干区域）\n\n**设备连接关系：**\n- DeviceA通过interface1（1.1.1.1/24）连接DeviceC的interface1（1.1.1.2/24）\n- DeviceA通过interface2（3.3.3.2/24）连接DeviceB的interface2（3.3.3.1/24）  \n- DeviceC通过interface2（2.2.2.1/24）连接DeviceB的interface1（2.2.2.2/24）\n- DeviceB额外配置interface3（172.16.1.1/24）\n\n**链路规划：**\n- 主链路：DeviceA（interface2）↔ DeviceB（interface2），网段3.3.3.0/24\n- 备用链路：DeviceA（interface1）↔ DeviceC（interface1）↔ DeviceB（interface1），经由网段1.1.1.0/24和2.2.2.0/24\n\n**IP地址分配：**\n- 网段1：1.1.1.0/24（DeviceA-DeviceC直连）\n- 网段2：2.2.2.0/24（DeviceC-DeviceB直连）\n- 网段3：3.3.3.0/24（DeviceA-DeviceB直连，主链路）\n- 网段4：172.16.1.0/24（DeviceB业务接口）\n\n**协议配置：**\n- 运行OSPF协议，所有接口均在Area0\n- 配置BFD for OSPF实现毫秒级故障检测和快速收敛\n- 正常情况流量走主链路（3.3.3.0/24），故障时自动切换至备用路径",
  "requirement": "通过配置 BFD for OSPF 特性，可以快速检测链路的状态，故障检测时间可以达到毫秒级，从而提高链路状态变化时 OSPF 的收敛速度。正常情况下，业务流量在主链路上传送。当主链路故障时，用户希望能够快速感知，及时将业务流量切换到备份链路上。",
  "steps": [
    "在各路由器上配置 OSPF 基本功能，实现互连。",
    "使能全局 BFD 特性。",
    "在 DeviceA 和 DeviceB 上使能 OSPF BFD 检测机制。"
  ],
  "configs": {
    "DeviceA": "#\nsysname DeviceA\n#\nrouter id 1.1.1.1\n#\nbfd\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 1.1.1.1 255.255.255.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 3.3.3.1 255.255.255.0\n ospf bfd enable\n ospf bfd min-tx-interval 500 min-rx-interval 500 detect-multiplier 4\n#\nospf 1 bfd all-interfaces enable\n area 0.0.0.0\n  network 3.3.3.0 0.0.0.255\n  network 1.1.1.0 0.0.0.255\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\nrouter id 2.2.2.2\n#\nbfd\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 2.2.2.2 255.255.255.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 3.3.3.2 255.255.255.0\n ospf bfd enable\n ospf bfd min-tx-interval 500 min-rx-interval 500 detect-multiplier 4\n#\ninterface GigabitEthernet3/0/0\n undo shutdown\n ip address 172.16.1.1 255.255.255.0\n#\nospf 1 bfd all-interfaces enable\n area 0.0.0.0\n  network 3.3.3.0 0.0.0.255\n  network 2.2.2.0 0.0.0.255\n  network 172.16.1.0 0.0.0.255\n#\nreturn",
    "DeviceC": "#\nsysname DeviceC\n#\nrouter id 3.3.3.3\n#\nbfd\n#\ninterface GigabitEthernet1/0/0\n undo shutdown\n ip address 1.1.1.2 255.255.255.0\n#\ninterface GigabitEthernet2/0/0\n undo shutdown\n ip address 2.2.2.1 255.255.255.0\n ospf bfd enable\n#\nospf 1 bfd all-interfaces enable\n area 0.0.0.0\n  network 1.1.1.0 0.0.0.255\n  network 2.2.2.0 0.0.0.255\n#\nreturn"
  },
  "related_images": [
    "图1-51 配置BFD for OSPF 特性组网图.png"
  ],
  "topology_original": "主链路：DeviceA → DeviceB；备链路：DeviceA → DeviceC → DeviceB。所有设备均位于 OSPF 区域 0。"
}