{
  "topology": "Controller 为控制器，DeviceC 与控制器相连，用来给控制器上送拓扑。DeviceA、DeviceB、DeviceC 和 DeviceD 之间通过 IS-IS 协议实现 IP 网络互连。DeviceA、DeviceB 和 DeviceC 属于区域 10，DeviceD 属于区域 20。DeviceA 和 DeviceB 是 Level-1 设备，DeviceC 是 Level-1-2 设备，DeviceD 是 Level-2 设备。",
  "requirement": "BGP-LS 是收集网络拓扑的一种新方式。IGP 协议发现的拓扑信息由 BGP 协议汇总后上送给上层控制器。",
  "steps": [
    "配置各路由器接口的 IP 地址。",
    "配置 IS-IS 的基本功能。",
    "在 DeviceC 和 Controller 上部署 BGP-LS 特性。"
  ],
  "configs": {
    "DeviceA": "#\nsysname DeviceA\n#\nisis\n is-level level-1\n network-entity 10.0000.0000.0001.00\n#\ninterface GigabitEthernet1/0/2\n undo shutdown\n ip address 10.1.1.2 255.255.255.0\n isis enable\n#\nreturn",
    "DeviceB": "#\nsysname DeviceB\n#\nisis\n is-level level-1\n network-entity 10.0000.0000.0002.00\n#\ninterface GigabitEthernet1/0/4\n undo shutdown\n ip address 10.1.2.2 255.255.255.0\n isis enable\n#\nreturn",
    "DeviceC": "#\nsysname DeviceC\n#\nisis\n bgp-ls enable level-1-2\n bgp-ls identifier 20\n network-entity 10.0000.0000.0003.00\n#\ninterface GigabitEthernet1/0/1\n undo shutdown\n ip address 1.1.1.1 255.255.255.0\n#\ninterface GigabitEthernet1/0/2\n undo shutdown\n ip address 10.1.1.1 255.255.255.0\n isis enable\n#\ninterface GigabitEthernet1/0/3\n undo shutdown\n ip address 192.168.0.1 255.255.255.0\n isis enable\n#\ninterface GigabitEthernet1/0/4\n undo shutdown\n ip address 10.1.2.1 255.255.255.0\n isis enable\n#\nbgp\n peer 1.1.1.2 as-number 100\n # ipv4-family unicast\n  undo synchronization\n  peer 1.1.1.2 enable\n # link-state-family unicast\n  peer 1.1.1.2 enable\n#\nreturn",
    "DeviceD": "#\nsysname DeviceD\n#\nisis\n is-level level-2\n network-entity 20.0000.0000.0004.00\n#\ninterface GigabitEthernet1/0/3\n undo shutdown\n ip address 192.168.0.2 255.255.255.0\n isis enable\n#\ninterface LoopBack0\n ip address 172.16.1.1 255.255.255.255\n isis enable\n#\nreturn",
    "Controller": "#\nsysname Controller\n#\ninterface GigabitEthernet1/0/1\n undo shutdown\n ip address 1.1.1.2 255.255.255.0\n#\nbgp\n peer 1.1.1.1 as-number 100\n # ipv4-family unicast\n  undo synchronization\n  peer 1.1.1.1 enable\n # link-state-family unicast\n  peer 1.1.1.1 enable\n#\nreturn"
  },
  "related_images": [
    "图1-162 配置BGP-LS 示例组网图.png"
  ]
}