{
    "topology": "网络包含5台路由器（R1-R5）和3个自治系统（AS 64512-64514）。核心连接拓扑如下：\n1. 路由器互联关系：\n - R1(GE0/0/0) ↔ R2(GE0/0/0)：10.0.1.1/24 ↔ 10.0.1.2/24\n - R2(GE0/0/1) ↔ R3(GE0/0/1)：10.0.2.2/24 ↔ 10.0.2.3/24\n - R3(GE0/0/2) ↔ R4(GE0/0/2)：10.0.3.3/24 ↔ 10.0.3.4/24\n - R4(GE0/0/0) ↔ R5(GE0/0/0)：10.0.4.4/24 ↔ 10.0.4.5/24\n\n2. 自治系统划分：\n - 蓝色AS 64512：R2/R3/R4（内部运行OSPF Area 0）\n - 绿色AS 64513：R1（通过EBGP连接AS64512）\n - 绿色AS 64514：R5（通过EBGP连接AS64512）\n\n3. 关键配置特征：\n - Loopback地址：\n * R1: 1.1.0.1/32（BGP Router-ID）\n * R2: 2.2.0.2/32\n * R3: 3.3.0.3/32\n * R4: 4.4.0.4/32\n * R5: 5.5.0.5/32\n - BGP对等关系：\n * EBGP：R1-R2（AS64513-AS64512）、R4-R5（AS64512-AS64514）\n * IBGP：R2-R3-R4全互联（AS64512内部）\n - 静态路由：\n * R1→R2：2.2.0.2/32 via 10.0.1.2\n * R5→R4：4.4.0.4/32 via 10.0.4.4\n - OSPF网络声明：\n * 所有路由器Loopback0接口\n * 内部互联接口（10.0.2.0/24、10.0.3.0/24）",
    "requirement": "公司网络搭建，使用 BGP 协议进行路由配置，多个自治系统，完成网络搭建并观察 BGP 路由信息传递。",
    "steps": [
      "1. 配置 R1，设置接口、BGP、静态路由，确保与 R2 建立 BGP 对等关系。",
      "2. 配置 R2，设置接口、BGP、静态路由，并启用 OSPF 路由协议。",
      "3. 配置 R3，设置接口、BGP、静态路由，启用 OSPF 路由协议。",
      "4. 配置 R4，设置接口、BGP、静态路由，启用 OSPF 路由协议，并与 R5 建立 BGP 对等关系。",
      "5. 配置 R5，设置接口、BGP、静态路由，并与 R4 建立 BGP 对等关系。",
      "6. 确保网络各设备间的 BGP 路由信息能够传递，进行测试与验证。"
    ],
    "configs": {
      "R1": "# \nsysname R1\n#\ninterface GigabitEthernet0/0/0\n ip address 10.0.1.1 255.255.255.0\n#\ninterface LoopBack0\n ip address 1.1.0.1 255.255.255.255\n#\ninterface LoopBack1\n ip address 1.1.1.1 255.255.255.0\n#\nbgp 64513\n router-id 1.1.0.1\n peer 2.2.0.2 as-number 64512\n peer 2.2.0.2 ebgp-max-hop 2\n peer 2.2.0.2 connect-interface LoopBack0\n#\n ipv4-family unicast\n  undo synchronization\n  network 1.1.1.0 255.255.255.0\n  peer 2.2.0.2 enable\n#\nip route-static 2.2.0.2 255.255.255.255 10.0.1.2\n#\nreturn",
      "R2": "# \nsysname R2\n#\ninterface GigabitEthernet0/0/0\n ip address 10.0.1.2 255.255.255.0\n#\ninterface GigabitEthernet0/0/1\n ip address 10.0.2.2 255.255.255.0\n#\ninterface LoopBack0\n ip address 2.2.0.2 255.255.255.255\n#\nbgp 64512\n router-id 2.2.0.2\n peer 1.1.0.1 as-number 64513\n peer 1.1.0.1 ebgp-max-hop 2\n peer 1.1.0.1 connect-interface LoopBack0\n peer 3.3.0.3 as-number 64512\n peer 3.3.0.3 connect-interface LoopBack0\n peer 4.4.0.4 as-number 64512\n peer 4.4.0.4 connect-interface LoopBack0\n#\n ipv4-family unicast\n  undo synchronization\n  peer 1.1.0.1 enable\n  peer 3.3.0.3 enable\n  peer 3.3.0.3 next-hop-local\n  peer 4.4.0.4 enable\n  peer 4.4.0.4 next-hop-local\n#\nospf 1 router-id 2.2.0.2\n area 0.0.0.0\n  network 2.2.0.2 0.0.0.0\n  network 10.0.2.2 0.0.0.0\n#\nip route-static 1.1.0.1 255.255.255.255 10.0.1.1\n#\nreturn",
      "R3": "# \nsysname R3\n#\ninterface GigabitEthernet0/0/1\n ip address 10.0.2.3 255.255.255.0\n#\ninterface GigabitEthernet0/0/2\n ip address 10.0.3.3 255.255.255.0\n#\ninterface LoopBack0\n ip address 3.3.0.3 255.255.255.255\n#\nbgp 64512\n router-id 3.3.0.3\n peer 2.2.0.2 as-number 64512\n peer 2.2.0.2 connect-interface LoopBack0\n peer 4.4.0.4 as-number 64512\n peer 4.4.0.4 connect-interface LoopBack0\n#\n ipv4-family unicast\n  undo synchronization\n  peer 2.2.0.2 enable\n  peer 4.4.0.4 enable\n#\nospf 1 router-id 3.3.0.3\n area 0.0.0.0\n  network 3.3.0.3 0.0.0.0\n  network 10.0.2.3 0.0.0.0\n  network 10.0.3.3 0.0.0.0\n#\nreturn",
      "R4": "# \nsysname R4\n#\ninterface GigabitEthernet0/0/0\n ip address 10.0.4.4 255.255.255.0\n#\ninterface GigabitEthernet0/0/2\n ip address 10.0.3.4 255.255.255.0\n#\ninterface LoopBack0\n ip address 4.4.0.4 255.255.255.255\n#\nbgp 64512\n router-id 4.4.0.4\n peer 2.2.0.2 as-number 64512\n peer 2.2.0.2 connect-interface LoopBack0\n peer 3.3.0.3 as-number 64512\n peer 3.3.0.3 connect-interface LoopBack0\n peer 5.5.0.5 as-number 64514\n peer 5.5.0.5 ebgp-max-hop 2\n peer 5.5.0.5 connect-interface LoopBack0\n#\n ipv4-family unicast\n  undo synchronization\n  peer 2.2.0.2 enable\n  peer 2.2.0.2 next-hop-local\n  peer 3.3.0.3 enable\n  peer 3.3.0.3 next-hop-local\n  peer 5.5.0.5 enable\n#\nospf 1 router-id 4.4.0.4\n area 0.0.0.0\n  network 4.4.0.4 0.0.0.0\n  network 10.0.3.4 0.0.0.0\n#\nip route-static 5.5.0.5 255.255.255.255 10.0.4.5\n#\nreturn",
      "R5": "# \nsysname R5\n#\ninterface GigabitEthernet0/0/0\n ip address 10.0.4.5 255.255.255.0\n#\ninterface LoopBack0\n ip address 5.5.0.5 255.255.255.255\n#\ninterface LoopBack1\n ip address 5.5.1.5 255.255.255.0\n#\nbgp 64514\n router-id 5.5.0.5\n peer 4.4.0.4 as-number 64512\n peer 4.4.0.4 ebgp-max-hop 2\n peer 4.4.0.4 connect-interface LoopBack0\n#\n ipv4-family unicast\n  undo synchronization\n  network 5.5.1.0 255.255.255.0\n  peer 4.4.0.4 enable\n#\nip route-static 4.4.0.4 255.255.255.255 10.0.4.4\n#\nreturn"
    }
}
  