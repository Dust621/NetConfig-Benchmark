{
  "topology": "互联接口、IP 地址如上图所示，所有设备均创建Loopback0，其IP 地址为10.0.x.x/24，其中x为设备编号。 R1、R3 的所有接口以及R2 的GE0/0/4 接口属于OSPF 区域2，R2、R4 的Loopback0 接口及互联接口属于OSPF 区域0，R4、R5 的互联接口、R5 的Loopback0、1、2 接口属于OSPF 区域1。 R2 上创建Loopback1、2 接口用于模拟外部网段。",
  "requirement": "你是公司的网络管理员。现在公司的网络中有五台AR 路由器，其中R2 和R4 在公司总部，R1、R3、R5 在公司分部。由于网络规模较大，为了控制LSA 的洪泛，你设计了多区域的OSPF。 为了明确设备的Router-ID，你配置设备使用固定的地址作为Router ID。 为了使路由器进行路由转发时效率更高，你在区域的边界配置了自动汇总。 R1 路由器连接到Internet，你需要配置一条缺省路由，引入到OSPF 区域，以便于OSPF 区域的所有路由器都知道如何访问Internet。 同时OSPF 路由信息中区分了内部路由和外部路由，你修改了OSPF 路由信息的优先级信息，以避免潜在的风险。 OSPF 中特定路由信息的度量值是将到达目的网络经过的所有链路的代价值进行累加得到的。而链路的代价值是路由器将接口带宽与参考带宽进行对比得到。参考带宽值为100Mbps，实际接口带宽可能为1000Mbps，而度量值都是整数，所以快速以太网接口和千兆以太网接口的OSPF 代价值均为1。为了能够相互区分这些链路，你定义参考带宽值为10Gbps。",
  "steps": [
    "设备IP 地址配置。",
    "按照规划配置OSPF 区域。",
    "检查OSPF 配置结果，检查OSPF 邻居关系状态，在ABR 上查看OSPF LSDB。",
    "在ABR、ASBR 上配置路由汇总，减少区域间、外部路由数量。",
    "修改OSPF 的参考带宽值。",
    "在OSPF 中引入缺省路由。",
    "修改OSPF 域内、域间路由和域外路由的缺省路由优先级。"
  ],
  "configs": {
    "R1": "# \nsysname R1 \n# \ninterface GigabitEthernet0/0/3 \n ip address 10.0.123.1 255.255.255.0 \n# \ninterface LoopBack0 \n ip address 10.0.1.1 255.255.255.0 \n ospf network-type broadcast               \n# \nospf 1 router-id 10.0.1.1 \n default-route-advertise always type 1 \n preference 20 \n preference ase 50 \n bandwidth-reference 10000 \n area 0.0.0.2 \n  network 10.0.1.1 0.0.0.0 \n  network 10.0.123.1 0.0.0.0 \n# \nip route-static 0.0.0.0 0.0.0.0 LoopBack0 \n#",
    "R2": "# \nsysname R2 \n# \ninterface GigabitEthernet0/0/2 \n ip address 10.0.24.2 255.255.255.0 \n# \ninterface GigabitEthernet0/0/4 \n ip address 10.0.123.2 255.255.255.0 \n# \ninterface LoopBack0 \n ip address 10.0.2.2 255.255.255.0          \n ospf network-type broadcast \n# \ninterface LoopBack1 \n ip address 10.2.0.1 255.255.255.0 \n# \ninterface LoopBack2 \n ip address 10.2.1.1 255.255.255.0 \n# \nospf 1 router-id 10.0.2.2 \n asbr-summary 10.2.0.0 255.255.254.0 \n import-route direct \n bandwidth-reference 10000 \n area 0.0.0.0 \n  network 10.0.2.2 0.0.0.0 \n  network 10.0.24.2 0.0.0.0 \n area 0.0.0.2 \n  abr-summary 10.3.0.0 255.255.254.0 \n  network 10.0.123.2 0.0.0.0 \n#",
    "R3": "# \nsysname R3 \n# \ninterface GigabitEthernet0/0/4 \n ip address 10.0.123.3 255.255.255.0 \n# \ninterface LoopBack0 \n ip address 10.0.3.3 255.255.255.0          \n ospf network-type broadcast \n# \ninterface LoopBack1 \n ip address 10.3.0.1 255.255.255.0 \n ospf network-type broadcast \n# \ninterface LoopBack2 \n ip address 10.3.1.1 255.255.255.0 \n ospf network-type broadcast \n# \nospf 1 router-id 10.0.3.3 \n preference 20 \n preference ase 50 \n bandwidth-reference 10000 \n area 0.0.0.2 \n  network 10.0.123.3 0.0.0.0 \n  network 10.0.3.3 0.0.0.0 \n  network 10.3.0.1 0.0.0.0 \n  network 10.3.1.1 0.0.0.0 \n#",
    "R4": "# \nsysname R4 \n# \ninterface GigabitEthernet0/0/2 \n ip address 10.0.45.4 255.255.255.0 \n# \ninterface GigabitEthernet0/0/3 \n ip address 10.0.24.4 255.255.255.0 \n# \ninterface LoopBack0 \n ip address 10.0.4.4 255.255.255.0          \n ospf network-type broadcast \n# \nospf 1 router-id 10.0.4.4 \n bandwidth-reference 10000 \n area 0.0.0.0 \n  network 10.0.24.4 0.0.0.0 \n  network 10.0.4.4 0.0.0.0 \n area 0.0.0.1 \n  abr-summary 10.5.0.0 255.255.254.0 \n  network 10.0.45.4 0.0.0.0 \n#",
    "R5": "# \nsysname R5 \n# \ninterface GigabitEthernet0/0/3 \n ip address 10.0.45.5 255.255.255.0 \n# \ninterface LoopBack0 \n ip address 10.0.5.5 255.255.255.0 \n ospf network-type broadcast \n#                                          \ninterface LoopBack1 \n ip address 10.5.0.1 255.255.255.0 \n ospf network-type broadcast \n# \ninterface LoopBack2 \n ip address 10.5.1.1 255.255.255.0 \n ospf network-type broadcast \n# \nospf 1 router-id 10.0.5.5 \n bandwidth-reference 10000 \n area 0.0.0.0 \n area 0.0.0.1 \n  network 10.0.5.5 0.0.0.0 \n  network 10.5.0.1 0.0.0.0 \n  network 10.5.1.1 0.0.0.0 \n  network 10.0.45.5 0.0.0.0 \n#"
  }
}