```markdown
# 1.13.1 XPL 概述

本节主要介绍了 XPL 基本概念、XPL 与路由策略的比较以及 XPL 的两种配置方式。

## 定义

XPL（Extended Routing-policy language，扩展路由策略语言）主要实现了路由过滤和路由属性设置等功能，它通过改变路由属性（包括可达性）来改变网络流量所经过的路径。XPL 实现的功能与现有的路由策略相同，XPL 的产生可以满足不同使用习惯用户的要求。

## XPL 和路由策略的比较

XPL 和路由策略的比较如表 1-70 所示：

| 项目         | 主要功能                     | 配置方法         | 过滤方式                     | 用户体验                     |
|--------------|------------------------------|------------------|------------------------------|------------------------------|
| XPL          | 路由过滤和路由属性设置       | 行编辑方式和段编辑方式 | 通过集合或单个元素对路由进行过滤 | 可以灵活进行策略的配置和修改 |
| 路由策略     | 路由过滤和路由属性设置       | 行编辑方式       | 通过过滤器或单个元素对路由进行过滤 | 需遵循严格的命令行配置规范   |

**说明**：路由策略的详细内容请参见《HUAWEI NetEngine40E 路由器特性描述-IP 路由-路由策略》中的描述。

## 行编辑和段编辑

XPL 有两种配置方式：行编辑方式和段编辑方式。

### 行编辑方式

行编辑方式是设备上传统的配置方式，本节不再过多介绍，具体配置请参见后文集合和过滤策略的配置过程。在使用行编辑配置集合或过滤策略过程中，可以通过 `abort` 命令放弃当前视图下未提交的配置并返回到系统视图，也可以通过 `display thiscandidate` 命令查看当前视图下未提交的配置。

### 段编辑方式

段编辑方式是 XPL 在配置方式上的一个新的尝试，二者的比较如表 1-71 所示。关于段编辑的详细介绍，请参见 1.13.3 XPL 段编辑简介。

XPL 段编辑语句请参见 1.13.9 XPL 段编辑语句。

| 项目         | 适用用户                                   | 主要区别                                                                 | 帮助及纠错机制                                                                 |
|--------------|--------------------------------------------|--------------------------------------------------------------------------|--------------------------------------------------------------------------------|
| 行编辑方式   | 习惯传统配置方式或对 XPL 不太熟悉的用户    | 在相应命令视图下执行命令行进行配置，以一条命令行即设备上的一行为单位     | 可以通过命令行的联想功能找出期望的配置命令。如有配置错误，会在此命令行配置结束后报出。 |
| 段编辑方式   | 对 XPL 配置语句非常熟悉、希望可以简化配置流程的用户 | 在段编辑界面中进行配置，阶段性配置完成后统一提交配置。以一段配置为单位     | 不可以联想，需要用户手工在段编辑界面中给出完成的配置语句。如有配置错误，会在整段配置提交后报出。 |

**说明**：如果需要用行编辑方式修改已经存在的全局变量集合、路由属性集合或过滤策略，需要进入相应命令视图进行重新配置。

## 目的

路由器在发布、接收和引入路由信息时，根据实际组网需要实施一些策略，以便对路由信息进行过滤和改变路由信息的属性，如：

- **控制路由的发布**：只发布满足条件的路由信息。
- **控制路由的接收**：只接收必要、合法的路由信息，以控制路由表的容量，提高网络的安全性。
- **过滤和控制引入的路由**：一种路由协议在引入其他路由协议发现的路由信息丰富自己的路由知识时，只引入一部分满足条件的路由信息，并对所引入的路由信息的某些属性进行设置，以使其满足本协议的要求。
- **设置特定路由的属性**：修改通过过滤策略过滤的路由的属性，满足自身需要。
- **灵活更新对路由的发布接受策略**：XPL 支持段编辑模式，用户可以在段编辑界面中进行配置，阶段性配置完成后统一提交配置，对策略的修改更新相对灵活。

## 受益

XPL 具有以下价值：

- 通过控制路由器的路由表规模，节约系统资源。
- 通过控制路由的接收和发送，提高网络安全性。
- 通过修改路由属性，对网络数据流量进行合理规划，提高网络性能。
- 简化传统路由策略的配置方式，使配置更灵活。
```