```markdown
# 1.6.10 配置 OSPFv3 引入路由环路检测功能

配置 OSPFv3 引入路由环路检测功能，检测是否引入自己发布的路由。如果存在，则为此路由发布很大的链路开销值，避免路由环路。

## 应用环境

当 OSPFv3 进程引入路由时，容易产生路由环路。通过 OSPFv3 引入路由环路检测功能，当设备检测到引入了自己发布的路由时，会为此路由发布一个很大的链路开销值，使得其他设备学习到这个路由之后尽量优选到其他路径上，进而避免路由环路。

## 操作步骤

### 步骤 1

执行命令 `system-view`，进入系统视图。

### 步骤 2

执行命令 `route loop-detect ospfv3 enable [ alarm-only ]`，使能 OSPFv3 引入路由环路检测功能。

#### 说明

- 为了降低路由环路对业务的影响，建议开启 OSPFv3 引入路由环路检测功能。
- 对于转发路径有强要求的网络，可以通过配置 `alarm-only` 来避免开销值变化影响流量走向。配置 `alarm-only` 后无法通过开销值变大自动避免环路，需要等待用户处理告警时再通过合理规划配置来避免环路。

### 步骤 3 （可选）

执行命令 `clear route loop-detect ospfv3 alarm-state`，退出路由环路告警状态并清除环路检测告警。

#### 说明

- 设备发现 OSPFv3 路由环路后，上报告警。由于设备无法自动检测到环路问题是否被解决，用户需要在检查并排除路由环路问题后执行该命令使设备不再为引入路由发布一个很大的开销值，并手动清除 OSPFv3 环路告警。若路由环路问题未被解决时执行此命令，告警会再次上报。

### 步骤 4

执行命令 `commit`，提交配置。

----
```